\documentclass[11pt, a4paper]{article}

%\usepackage[T1]{fontenc}
%\usepackage{fullpage}

\usepackage[utf8]{inputenc} % comment when using lualatex
\usepackage[italian]{babel} % lingua e a-capo-sillabato
\usepackage{graphicx}
\usepackage[hidelinks]{hyperref} % link di pagina
\usepackage[bottom]{footmisc} % note appiccicate al fondo della pagina
\usepackage{float} % per posizionamento immagini
\usepackage{amsthm} % per ambienti stile teorema
\usepackage{tabularx} %tabelle
\usepackage[table]{xcolor} %colore caselle
\usepackage{enumitem} %additional commands for lists
\usepackage{fancyhdr}
\usepackage[font=footnotesize,labelfont=bf]{caption} % small caption font-size



\pagestyle{fancy}
\fancyhf{}% Clear header/footer
\fancyhead[C]{\footnotesize\textit{Documento:} D2 \hfill SleepCode \hfill \textit{Versione:} 1.0}
\renewcommand{\headrule}{{\color{red!70}\rule{\textwidth}{2pt}}}
\setlength{\headheight}{22pt}

\renewcommand\UrlFont{\color{blue}\rmfamily} % colore link

\theoremstyle{definition} % stile dei newtheorem (non italizzati)
\newtheorem{funcreq}{RF} %% numerazione dei requisiti funzionali
\newtheorem{nonfuncreq}{RNF} %% requisiti non funzionali
\newtheorem{backend}{BE}
\newtheorem{frontend}{FE}




\title{Specifica dei Requisiti}

\author{Raffaele \textsc{Castagna}\\
Alberto \textsc{Rovesti}\\
Zeno \textsc{Saletti}}

\newcommand{\groupNumber}{G17}

% Web address for the project (if any)
% \newcommand{\homepage}{\url{https://www.}}

% data
\date{\today}

\makeatletter{}

% IL PREAMBOLO FINISCE QUI %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\begin{document}

% La pagina di copertina si trova in un file .tex a parte
% NON MODIFICARE QUESTO COMANDO!!!
\input{materiale/elementi-copertina/copertina.tex}

\tableofcontents

\newpage

\section*{Scopo del documento}
Il presente documento riporta la specifica dei requisiti di sistema
del progetto SleepCode. Viene in particolare estesa la descrizione
in linguaggio naturale, impiegato nel documento di Analisi dei Requisiti
(\textit{D1}), attraverso strumenti di modellazione più formali—diagrammi
realizzati secondo gli standard indicati da \textit{Unified Modeling Language}
(UML) per quanto riguarda i requisiti funzionali; tabelle strutturate
per i requisiti non funzionali.

In ultima analisi, contemplando i suddetti requisiti, viene presentato il
design del sistema ricorrendo a diagrammi di contesto e dei componenti.


\newpage
\section{Requisiti funzionali}
In questa sezione vengono descritti i requisiti funzionali (RF) del
servizio utilizzando Use Case Diagrams (UCD) e Swimlane Diagrams (SD), disegnati secondo
gli standard UML, ed eventualmente arricchiti da descrizioni in linguaggio
naturale.


\subsection{Accesso}
\begin{itemize}
    \item \textbf{RF 1.} Registrazione
    \item \textbf{RF 2.} Login
    \item \textbf{RF 3.} Recupero password
\end{itemize}
\begin{figure}[H]
\centering
\includegraphics[scale=0.7]{materiale/ucdiagrams/ucaccesso.pdf}
\caption{UCD relativo all'accesso al servizio}
\end{figure}

\subsection*{Descrizione Use Case \textit{Registrare un nuovo account}}
\begin{description}
    \item[Titolo:] Registrazione account
    
    \item[Riassunto:] Questo Use Case descrive come l'utente anonimo deve
    effettuare la registrazione sulla piattaforma.

    \item[Descrizione:]
    \begin{enumerate}
        \item[]
        \item L'utente anonimo accede alla pagina dedicata e sceglie tra la registrazione mediante il sistema di credenziali interno oppure per mezzo di un account Google.\texttt{[extension 1]}
        \item La registrazione con sistema di credenziali interno prevede l'inserimento di un username, un'email valida e una password conforme (RNF 11). \verb|[exception 1]|\verb|[exception 2]|
        \item La password deve essere confermata reinserendola in un secondo campo.\verb|[exception 3]|
        \item L'account viene registrato dal servizio di database.
    \end{enumerate}
    
    \item[Exceptions:]
    \begin{itemize}
        \item[]
        \item \verb|[exception 1]| Se l'email inserita è malformata, inesistente o associata ad un account già registrato, la registrazione non può proseguire e l'utente viene avvisato.
        \item \verb|[exception 2]| Se la password non è conforme, la registrazione non può proseguire e l'utente viene avvisato.
        \item \verb|[exception 3]| Se i campi di inserimento e di conferma della password contengono stringhe che non coincidono, la registrazione non può proseguire e l'utente viene avvisato.
    \end{itemize}

    \item[Extensions:]
    \begin{itemize}
        \item[]
        \item \texttt{[extension 1]} L'utente può scegliere di registrarsi alla piattaforma collegando un proprio account Google, secondo quanto indicato dal servizio di registrazione e autenticazione Google.
    \end{itemize}
\end{description}

\subsection*{Descrizione Use Case \textit{Effettuare il login}}
\begin{description}
    \item[Titolo:] Login
    
    \item[Riassunto:] Questo Use Case descrive come l'utente anonimo e registrato deve
    effettuare il login sulla piattaforma.

    \item[Descrizione:]
    \begin{enumerate}
        \item[]
        \item L'utente anonimo accede alla pagina dedicata e sceglie tra l'autenticazione mediante il sistema di credenziali interno oppure per mezzo di un account Google.\texttt{[extension 1]}
        \item L'utente che si autentica con credenziali interne inserisce indirizzo email e password, che saranno verificati grazie al servizio di database.\texttt{[exception 1]}
    \end{enumerate}
    
    \item[Exceptions:]
    \begin{itemize}
        \item[]
        \item \verb|[exception 1]| Se le credenziali fornite non sono valide, il login non può essere eseguito e l'utente viene avvisato.
    \end{itemize}

    \item[Extensions:]
    \begin{itemize}
        \item[]
        \item \texttt{[extension 1]} Qualora l'utente disponga di un account Google collegato alla piattaforma, è possibile effettuare il login
        mediante autenticazione Google e seguendo le indicazioni fornite dal suo servizio.
    \end{itemize}
\end{description}

\subsection*{Descrizione Use Case \textit{Recuperare la password}}
\begin{description}
    \item[Titolo:] Recupero password
    
    \item[Riassunto:] Questo Use Case descrive come l'utente anonimo e
    registrato alla piattaforma, facendo affidamento al sistema di credenziali
    interno, può recuperare il proprio account qualora la password venisse dimenticata.

    \item[Descrizione:]
    \begin{enumerate}
        \item[]
        \item L'utente accede alla pagina di recupero, per mezzo di quella di login.
        \item La pagina indica all'utente di inserire l'email di recupero, ovvero quella associata all'account. \verb|[exception 1]|
        \item Il sistema richiede al servizio di posta elettronica l'invio di un link di recupero mediane un messaggio email, specificando l'indirizzo fornito dall'utente e il contenuto del messaggio.
        \item Il link guida l'utente dal messaggio alla pagina del sistema dedicata alla creazione di una nuova password.
        \item L'utente inserisce una nuova password conforme e la conferma, inserendola nuovamente. \verb|[exception 2]|\verb|[exception 3]|
        \item Il servizio di database provvede all'aggiornamento della password.
    \end{enumerate}
    
    \item[Exceptions:]
    \begin{itemize}
        \item[]
        \item \verb|[exception 1]| Se l'email inserita è malformata, inesistente o associata ad un account non registrato, il recupero non può proseguire e l'utente viene avvisato.
        \item \verb|[exception 2]| Se la password non è conforme, la registrazione non può proseguire e l'utente viene avvisato.
        \item \verb|[exception 3]| Se i campi di inserimento e di conferma della password contengono stringhe che non coincidono, la registrazione non può proseguire e l'utente viene avvisato.
    \end{itemize}
    
    %\item[Extensions:]
\end{description}


\newpage
\subsection{Consultazione dei problemi}
\begin{itemize}
    \item \textbf{RF 4.} Consultazione del catalogo dei problemi
    \item \textbf{RF 5.} Consultazione di un problema
    \item \textbf{RF 8.} Metadati aggiuntivi
    \item \textbf{RF 9.1.} Progressi
\end{itemize}
\subsection*{2.5\texttt{ }\textit{ } Gestione del catalogo dei problemi}
\begin{itemize}
    \item \textbf{RF 12.} Aggiungere un problema
    \item \textbf{RF 13.} Modificare un problema
    \item \textbf{RF 14.} Eliminare un problema
\end{itemize}

\begin{figure}[H]
\centering
\hspace*{-1cm}
\includegraphics[scale=0.57]{materiale/ucdiagrams/ucproblemi.pdf}
\caption{UCD relativo alla consultazione dei problemi e alla modifica del catalogo}
\end{figure}

\subsection*{Descrizione Use Case \textit{Aggiungere problemi}}
\begin{description}
    \item[Titolo:] Aggiungere un problema
    
    \item[Riassunto:] Questo Use Case descrive come l'utente amministratore
    deve aggiungere nuovi problemi al catalogo.

    \item[Descrizione:]
    \begin{enumerate}
        \item[]
        \item L'utente amministratore accede alla pagina del catalogo e sceglie di aggiungere un nuovo problema.
        \item L'utente compila i campi necessari alla creazione di un nuovo problema: i dati relativi alla struttura, quali titolo, descrizione e almeno tre esempi di input e output atteso; dati descrittivi, ovvero nome, selezione della difficoltà (bassa, intermedia, alta), categoria e link al video-suggerimento.
        \item L'utente inserisce almeno 3 test cases; ogni test case consiste in un dato in input e il rispettivo output corretto.
        \item L'utente conferma la creazione del problema, che viene quindi aggiunto al catalogo; alternativamente, l'utente può scegliere di annullare la creazione del nuovo problema, previo avviso e conferma da parte del sistema.\texttt{[exception 1]}\texttt{[exception 2]}
    \end{enumerate}
    
    \item[Exceptions:]
    \begin{itemize}
        \item[]
        \item \texttt{[exception 1]} Se tra i dati strutturali e descrittivi del problema è presente almeno un campo non compilato, l'aggiunta del problema al catalogo non viene eseguita e l'utente viene avvisato.
        \item \texttt{[exception 2]} Se il numero di test cases forniti è minore di 3, il problema non può essere aggiunto e l'utente viene notificato.
    \end{itemize}
\end{description}

\subsubsection*{Descrizione Use Case \textit{Modificare problemi}}
\begin{description}
    \item[Titolo:] Modificare un problema
    
    \item[Riassunto:] Questo Use Case descrive come l'utente amministratore
    deve modificare i problemi.

    \item[Descrizione:]
    \begin{enumerate}
        \item[]
        \item L'utente amministratore accede alla pagina del catalogo e seleziona un problema da modificare.
        \item L'utente modifica i campi strutturali (titolo, descrizione, esempi di input e output) e descrittivi (nome, difficoltà, categoria e link al video-suggerimento) del problema.
        \item L'utente modifica i test cases, aggiungendone eventualmente più di 3.
        \item L'utente conferma la modifica del problema, che verrà poi aggiornato nel catalogo, oppure conferma di annullare la modifica.\texttt{[exception 1]} \texttt{[exception 2]}
    \end{enumerate}
    
    \item[Exceptions:]
    \begin{itemize}
        \item[]
        \item \texttt{[exception 1]} Se tra i dati strutturali e descrittivi del problema è presente almeno un campo non compilato, la modifica del problema non viene eseguita e l'utente viene avvisato.
        \item \texttt{[exception 2]} Se il numero di test cases forniti è minore di 3, il problema non può essere modificato e l'utente viene notificato.
    \end{itemize}
\end{description}

\newpage
\subsection{Esercitazione}
\begin{itemize}
    \item \textbf{RF 6.} Avviare l'esercitazione
    \item \textbf{RF 7.} Correttezza dell'algoritmo
    \item \textbf{RF 9.1.} Registrare i progressi
\end{itemize}

\begin{figure}[H]
\centering
\hspace*{-1.8cm}
\includegraphics[scale=0.9]{materiale/ucdiagrams/ucesercitazione.pdf}
\caption{UCD con riferimenti ai requisiti relativi all'esercitazione}
\end{figure}

\subsection*{Descrizione dell'esercitazione}
La Figura \ref{acexercise} mostra lo swimlane diagram che descrive gli
use case relativi alla sessione di esercitazione. In particolare,
viene mostrato in modo più preciso lo use case \textit{Effettuare
l'esercitazione}, insieme a quelli correlati.

Si intende soprattutto evidenziare la sequenza nella quale si
susseguono eventuali azioni opzionali o eseguibili in parallelo,
oltre alla reazione di altri attori (YouTube, Firebase DB) in
risposta alla particolare categoria di utenti coinvolti, come in
\textit{Registrare i progressi}, e alle scelte da loro effettuate
(si fa riferimento agli use case \textit{Avviare e interrompere un
cronometro}, \textit{Aprire il video di suggerimento}).

\begin{figure}[H]
\centering
\hspace*{-0.48cm}
\includegraphics[scale=0.444]{materiale/acesercitazione.pdf}
\caption{SD, arricchito da elementi di Activity Diagram,
per gli use case \textit{Effetuare l'esercitazione}, gli use case correlati
e \textit{Registrare i progressi}}
\label{acexercise}
\end{figure}


\newpage
\subsection{Gestione del profilo e dell'account}
\begin{itemize}
    \item \textbf{RF 9.2.} Progressi
    \item \textbf{RF 10.} Aggiornamento dei dati dell'account
    \item \textbf{RF 11.} Logout
\end{itemize}

\begin{figure}[H]
\centering
\hspace*{-1.4cm}
\includegraphics[scale=0.8]{materiale/ucdiagrams/ucaccount.pdf}
\caption{UCD relativo alle funzionalità aggiuntive dell'utente autenticato}
\end{figure}

\newpage
\subsection*{Swimlane Diagram per \textit{Aggiornare l'indirizzo email dell'account}}
La Figura \ref{slemail} mostra nel dettaglio lo Use Case relativo all' aggiornamento
dell'indirizzo di posta elettronica di un utente registrato con credenziali di sistema
e autenticato, evidenziando la procedura mediante uno Swimlane Diagram.
\begin{figure}[H]
\centering
\includegraphics[scale=0.65]{materiale/ucdiagrams/swimlaneemail.pdf}
\caption{SD dello scenario di aggiornamento dell'indirizzo email}
\label{slemail}
\end{figure}



\subsection*{Swimlane Diagram per \textit{Aggiornare la password dell'account}}
La Figura \ref{slpassword} fa riferimento allo Use Case relativo all'aggiornamento
della password dell'account di un utente registrato con credenziali di sistema e autenticato.

\begin{figure}[H]
\centering
\includegraphics[scale=0.65]{materiale/ucdiagrams/swimlanepassword.pdf}
\caption{SD dello scenario di aggiornamento della password}
\label{slpassword}
\end{figure}


\newpage
\section{Requisiti non funzionali}
Di seguito sono riportati i requisiti non funzionali (RNF)
del sistema, all'interno di tabelle strutturate. Per ogni requisito vengono
specificate una o più proprietà con una descrizione più esplicita,
oltre ad un indice di misura utile alla valutazione oggettiva
e quantitativa di tali requisiti.

\subsection{Caratteristiche di sistema}

\begin{nonfuncreq}
\textbf{Scalabilità }
\begin{center}
    \footnotesize
    \begin{tabularx}{\textwidth}{|X||X||X|}
        \hline
        \cellcolor{red!70}Proprietà & \cellcolor{red!70}Descrizione & \cellcolor{red!70}Misura\\
        \hline
        Elaborazione con un numero crescente di utenti. & Capacità del sistema di gestire un numero crescente di utenti in simultanea. & Viene garantito l'accesso in simultanea di almeno 300 utenti nel primo anno dal lancio.\\
        \hline
        Memorizzazione dei dati degli utenti & Capacità del sistema di gestire i dati generati da un numero crescente di utenti utilizzatori. & Capacità sufficiente per almeno 400 utenti.\\
        \hline
        Eterogeneità dei linguaggi di programmazione & Capacità di supportare un numero crescente di linguaggi di programmazione, utili alla scrittura degli algoritmi risolutivi. & Al lancio della piattaforma, vengono supportate le versioni maggiormente utilizzate dei linguaggi di programmazione più popolari (C++11). Il sistema può gestire algoritmi scritti in almeno 5 linguaggi differenti.\\
        \hline
    \end{tabularx}
\end{center}
\end{nonfuncreq}

\begin{nonfuncreq}
    \textbf{Compatibilità }
    \begin{center}
        \footnotesize
        \begin{tabularx}{\textwidth}{|X||X||X|}
            \hline
            \cellcolor{red!70}Proprietà & \cellcolor{red!70}Descrizione & \cellcolor{red!70}Misura\\
            \hline
            Compatibilità client & La piattaforma del servizio deve essere compatibile con e accessibile attraverso le versioni più recenti dei principali browser in commercio. &
            \begin{itemize}
                \item Chrome

                117.0.5938.150
                \item Firefox

                18.0.1
                \item Edge:

                17.0.2045.60
            \end{itemize}La compatibilità deve valere anche per le rispettive versioni superiori.\\
            \hline
        \end{tabularx}
    \end{center}
\end{nonfuncreq}

\begin{nonfuncreq}
    \textbf{Usabilità }
    \begin{center}
        \footnotesize
        \begin{tabularx}{\textwidth}{|X||X||X|}
            \hline
            \cellcolor{red!70}Proprietà & \cellcolor{red!70}Descrizione & \cellcolor{red!70}Misura\\
            \hline
            Usabilità & Intuitività e facilità nell'apprendimento, accesso e impiego delle funzionalità fornite dal servizio. & Il nuovo utente deve poter conoscere e utilizzare il 90\% delle funzionalità (disponibili al proprio livello di accesso) in meno di 30 minuti.\\
            \hline
        \end{tabularx}
    \end{center}
\end{nonfuncreq}

\begin{nonfuncreq}
    \textbf{Aspetto }
    \begin{center}
        \footnotesize
        \begin{tabularx}{\textwidth}{|X||X||X|}
            \hline
            \cellcolor{red!70}Proprietà & \cellcolor{red!70}Descrizione & \cellcolor{red!70}Misura\\
            \hline
            Colore & Gamma cromatica dell'interfaccia e distribuzione del colore. La scelta ricade su colori, tinte (aggiunta di bianco) e sfumature (aggiunta di nero) che mirano a limitare l'affaticamento della vista. & Colori caldi; colori freddi presenti in sfumature scure; colori freddi accesi presenti al più in aree ristrette (pulsanti e icone).\\
            \hline
            Contrasto & Accostamento dei colori all'interno dell'interfaccia utente. Mira alla leggibilità e alla limitazione dell'affaticamento della vista. & Regola dei complementari; cerchio di Itten.\\
            \hline
        \end{tabularx}
    \end{center}
\end{nonfuncreq}

\begin{nonfuncreq}
    \textbf{Lingua }
    \begin{center}
        \footnotesize
        \begin{tabularx}{\textwidth}{|X||X||X|}
            \hline
            \cellcolor{red!70}Proprietà & \cellcolor{red!70}Descrizione & \cellcolor{red!70}Misura\\
            \hline
            Lingua di sistema           & Lingua presente nell'interfaccia e nelle risorse fornite dal servizio. & L'interfaccia generale della piattaforma contiene testo in italiano (100\%); i testi dei problemi sono scritti in italiano (100\%); le risorse multimediali (video-suggerimento) devono essere in italiano oppure in inglese.\\
            \hline
        \end{tabularx}
    \end{center}
\end{nonfuncreq}

\begin{nonfuncreq}
    \textbf{Prestazioni }
    \begin{center}
        \footnotesize
        \begin{tabularx}{\textwidth}{|X||X||X|}
            \hline
            \cellcolor{red!70}Proprietà & \cellcolor{red!70}Descrizione & \cellcolor{red!70}Misura\\
            \hline
            Caricamento all'accesso & Tempo massimo richiesto per caricare le pagine rilevanti dopo la ricerca in browser. & Il caricamento delle pagine di login e home (per quest'ultima si considera l'intervallo di tempo che comincia dopo la richiesta di autenticazione) non deve eccedere i 2 secondi.\\
            \hline
            Transizioni & Tempo massimo richiesto per effettuare una transizione da una pagina all'altra.  & Una transizione non deve richiedere più di 2 secondi.\\
            \hline
        \end{tabularx}
    \end{center}
\end{nonfuncreq}

\subsection{Affidabilità}

\begin{nonfuncreq}
    \textbf{Downtime }
    \begin{center}
        \footnotesize
        \begin{tabularx}{\textwidth}{|X||X||X|}
            \hline
            \cellcolor{red!70}Proprietà & \cellcolor{red!70}Descrizione & \cellcolor{red!70}Misura\\
            \hline
            Downtime & Tempo medio massimo in cui il servizio non è raggiungibile; principalmente per motivi di manutenzione e aggiornamento. & 2,7\% (240 ore) nel primo anno 0,85\% (72 ore) dopo il primo anno dal lancio.\\
            \hline
        \end{tabularx}
    \end{center}
\end{nonfuncreq}

\begin{nonfuncreq}
    \textbf{Disponibilità }
    \begin{center}
        \footnotesize
        \begin{tabularx}{\textwidth}{|X||X||X|}
            \hline
            \cellcolor{red!70}Proprietà & \cellcolor{red!70}Descrizione & \cellcolor{red!70}Misura\\
            \hline
            Disponibilità & Probabilità che il sito non si guasti entro un intervallo di tempo trascorso dopo l'entrata in servizio. & Probabilità di resistere ai guasti al 98\% entro le prime 8.000 ore.\\
            \hline
        \end{tabularx}
    \end{center}
\end{nonfuncreq}

\subsection{Privacy e sicurezza}

\begin{nonfuncreq}
    \textbf{Privacy e trattamento dei dati }
    \begin{center}
        \footnotesize
        \begin{tabularx}{\textwidth}{|X||X||X|}
            \hline
            \cellcolor{red!70}Proprietà & \cellcolor{red!70}Descrizione & \cellcolor{red!70}Misura\\
            \hline
            Normativa & Conformità con le vigenti norme relative al trattamento e alla protezione dei dati (GDPR). In particolare, i dati personali dell'utente registrato (nome, email e password) non devono essere divulgati in alcun modo e, qualora lo ritenga opportuno, l'utente ha il diritto di richiedere l'eliminazione delle proprie informazioni dal servizio al fine di interrompere il trattamento. & Conformità del servizio e funzionalità a supporto dell'utente (eliminazione account).\\
            \hline
        \end{tabularx}
    \end{center}
\end{nonfuncreq}

\begin{nonfuncreq}
    \textbf{Connessione sicura }
    \begin{center}
        \footnotesize
        \begin{tabularx}{\textwidth}{|X||X||X|}
            \hline
            \cellcolor{red!70}Proprietà & \cellcolor{red!70}Descrizione & \cellcolor{red!70}Misura\\
            \hline
            Connessione sicura & Impiego di protocolli di comunicazione che garantiscono la confidenzialità e riservatezza delle informazioni scambiate tra client e server. & Utilizzo del protocollo \texttt{https}.\\
            \hline
        \end{tabularx}
    \end{center}
\end{nonfuncreq}

\begin{nonfuncreq}
    \textbf{Password strength }
    \begin{center}
        \footnotesize
        \begin{tabularx}{\textwidth}{|X||X||X|}
            \hline
            \cellcolor{red!70}Proprietà & \cellcolor{red!70}Descrizione & \cellcolor{red!70}Misura\\
            \hline
            Password sicura & Quantità e varietà di caratteri necessari per comporre una password forte. & Una password conforme possiede da 8 a 64 caratteri, tra i quali sono presenti almeno: una lettera maiuscola, una minuscola, una cifra decimale e un carattere speciale tra ! ? \# \$ \% \& @ * + - / $\backslash$ = \_ . , ; : ( ) [ ] \{ \}.\\
            \hline
        \end{tabularx}
    \end{center}
\end{nonfuncreq}





\newpage
\section{Analisi del contesto}
% riguarda il backend e i componenti esterni al sistema: tutto il codice che utilizzate ma che non avete scritto voi
% flusso di informazioni tra il nostro sistema e quelli esterni
In questa sezione viene descritto il contesto di funzionamento del sistema
\textit{SleepCode} e come esso interagisce con gli attori esterni. Si
ricorre ad una descrizione testuale riassunta in una rappresentazione
grafica mediante un Diagramma di Contesto (Figura \ref{contextdiagram}).

\subsection{Utenti e sistemi esterni} % chi interagisce, chi usa e chi supporta (sia software che umano)
\subsubsection{Utente}
L'utente rappresenta l'attore che usufruisce delle funzionalità del servizio
—viene descritto nei requisiti dal \textbf{RF 1} al \textbf{RF 7} per quanto
concerne il livello anonimo e quelli superiori; dal \textbf{RF 8} al
\textbf{RF 11} in relazione ai livelli autenticato e amministratore; \textbf{RF 12},
\textbf{RF 13} e \textbf{RF 14} per quanto riguarda il livello amministratore.

\subsubsection{Firebase DB}
Il servizio di database impiegato per gestire le credenziali e l'account
degli utenti registrati alla piattaforma—i requisiti coinvolti sono: \textbf{RF 1},
\textbf{RF 2}, \textbf{RF 3}, \textbf{RF 9}, \textbf{RF 10}—e per gestire il
catalogo dei problemi—\textbf{RF 12}, \textbf{RF 13}, \textbf{RF 14}.

\subsubsection{Google Sign-In}
Servizio di autenticazione alternativo al sistema di credenziali interno
—\textbf{RF 1}, \textbf{RF 2}.

\subsubsection{YouTube}
Il servizio di contenuti multimediali che fornisce i video che integrano
i problemi, mettendo a disposizione dell'utente un suggerimento per lo
svolgimento dell'esercizio—\textbf{RF 4.1}, \textbf{RF 6.6}.

\subsubsection{Servizio di posta elettronica}
Sistema di notifica utilizzato per effettuare le operazioni di recupero
dell'account (\textbf{RF 3}) e di migrazione a nuovo indirizzo di posta
elettronica da associare all'account (\textbf{RF 10}).

\subsection{Diagramma di contesto} % frecce = dati che si scambiano. Utente --atuenticaz--> sistema (è l'utente che fornisce i dati al sistema; la freccia indica il verso del flusso)
\begin{figure}[H]
\centering
\hspace*{-1.8cm}
\includegraphics[scale=0.6]{materiale/contextdiagram.pdf}
\caption{Context Diagram della piattaforma \textit{SleepCode}}
\label{contextdiagram}
\end{figure}

L'utente può richiedere di effettuare la registrazione alla piattaforma
(\textbf{RF 1}), scegliendo di inviare i dati necessari per creare un
account di sistema o di collegare il proprio account Google. Il sistema
provvede a inviare la conferma dell'operazione di registrazione.

L'utente registrato può inviare i dati necessari al login (\textbf{RF 2}) sulla piattaforma,
inserendo quindi le credenziali di sistema oppure richiedendo l'autenticazione
con Google. Il sistema risponde con l'autorizzazione all'accesso.

In caso di richiesta di recupero dell'account (\textbf{RF 3}) da parte di un utente
registrato, il sistema riceve l'indirizzo email di recupero. Dall'email
l'utente può collegarsi alla pagina di recupero, nella quale inserire la
nuova password dell'account.

L'utente riceve il catalogo e i dati in esso contenuti (\textbf{RF 4}, \textbf{RF 5},
\textbf{RF 8}). L'utente propaga al proprio account le modifiche
apportate ai preferiti (\textbf{RF 8}) e al catalogo stesso (\textbf{RF 12}, \textbf{RF 13}, \textbf{RF 14}), riceve le informazioni sui progressi personali (\textbf{RF 9})
e può inviare una richiesta di logout (\textbf{RF 11}).

Durante un'esercitazione, l'utente può inviare il codice scritto e ricevere dati
relativi all'esito dell'esecuzione di tale codice; può essere inoltre richiesta la
visualizzazione del video-suggerimento (\textbf{RF 6}, \textbf{RF 7}).

Per apportare modifiche ai dati del proprio account (\textbf{RF 10}), l'utente
deve poter inviare le richieste specifiche, come quelle di modifica della password
o migrazione dell'indirizzo email, e fornire le nuove credenziali.
\\\\
Firebase DB provvede alla memorizzazione del catalogo (con relativi problemi) e dei
dati relativi agli utenti registrati ed eventualmente autenticati (credenziali
interne, preferiti, progressi) e alla ricezione di modifiche apportate a questi oggetti.
\\\\
I video che l'utente intende visualizzare vengono richiesti a YouTube da
parte del sistema.
\\\\
Google Sign-In fornisce l'autorizzazione al collegamento e all'accesso
mediante account Google, richiesti da utenti in sede di registrazione o
login.
\\\\
La piattaforma fornisce al sistema di posta elettronica i dati necessari
per notificare e guidare l'utente che intende effettuare alcune operazioni,
ovvero la registrazione e la modifica dei dati dell'account.



\newpage
\section{Analisi dei componenti}
% diagramma componenti -> si intende componenti INTERNI AL SISTEMA:

% vantaggi componenti: se cambia uno degli attori (in particolare software)
% basta cambiare il rispettivo compnente con il quale si interfaccia

% il sistema non sarà un programma monolitico che si occupa di tutto con un unico codice
% provo a dividere il mio sistema in componenti e ragiono su come le informazioni vengono passate tra i componenti

Nella sezione seguente viene descritta l'architettura interna del sistema
rilevandone i componenti, definiti nei loro compiti sulla base dei requisiti
analizzati nelle sezioni e nei documenti precedenti. L'architettura viene
qui mostrata attraverso un Diagramma dei Componenti, che evidenzia
l'interconnessione tra i componenti interni, le interfacce presenti tra di
essi e quelle esposte agli attori esterni. Segue una descrizione testuale
e più dettagliata di ogni componente.


\subsection{Definizione dei componenti}
In questa sezione sono descritti i componenti e le interfacce presenti
all'interno del Diagramma dei Componenti.


\subsubsection{Pagina di accesso}
\begin{description}
    \item[Descrizione:] questo componente ha il compito
    principale di interagire con l'utente al fine di guidarlo
    nelle procedure di accesso alla piattaforma.
    La pagina di accesso si occupa della raccolta dei dati
    utili ad effettuare il login e la registrazione
    di un nuovo account. Essa offre inoltre la possibilità di
    richiedere il recupero dell'account.
    \item[Interfacce richieste:]
    \begin{itemize}
        \item[]
        \item \underline{Credenziali:} la pagina di accesso
        richiede l'inserimento delle credenziali necessarie
        per il login (una tupla email-password) e per la
        registrazione (nome utente, email, password).

        \item \underline{Richiesta registrazione:} con tale
        interfaccia esposta all'utente, il componente è in grado
        di distinguere dal login l'operazione di registrazione,
        richiedendo, tramite l'interfaccia Credenziali, i dati
        opportuni.

        \item \underline{Richiesta recupero account:} il componente
        permette all'utente di avviare la procedura di recupero
        dell'account.

        \item \underline{Richiesta Google:} con questa interfaccia,
        la pagina di autenticazione può riconoscere che l'utente
        intende registrarsi o autenticarsi mediante un account
        Google.

        \item \underline{Autorizzazione:} l'autorizzazione, da
        parte dell'apposito sistema di autenticazione, consente
        alla Pagina di Accesso di stabilire se il login o la
        registrazione sono andate a buon fine. In questo modo, si
        conferma all'utente l'accesso alla piattaforma, oppure lo
        si avvisa di eventuali errori.
    \end{itemize}
    \item[Interfacce fornite:]
    \begin{itemize}
        \item[]
        \item \underline{Login:} la pagina risponde ad una registrazione
        o autenticazione andata a buon fine portando a termine un'operazione
        di login. Questa interfaccia consente al sistema di distinguere
        la transizione dello stato di un utente da anonimo ad autenticato.

        \item \underline{Credenziali di accesso:} le credenziali per il login,
        raccolte precedentemente, vengono inoltrate a componenti preposti alla
        loro convalida.

        \item \underline{Credenziali di registrazione:} le credenziali necessarie
        alla registrazione, raccolte precedentemente, vengono inoltrate 

        \item \underline{Richiesta Google:} questa interfaccia permette alla
        pagina di accesso di comunicare il fatto che l'utente intende registrarsi
        o autenticarsi con un account Google.

        \item \underline{Richiesta recupero account:} il componente inoltra
        ad un altro componente la richiesta di recupero account, in modo tale
        da effettuare separatamente questa operazione.
    \end{itemize}
\end{description}

\subsubsection{Sistema di autenticazione}
\begin{description}
    \item[Descrizione:] il Sistema di Autenticazione provvede a dialogare
    con gli attori esterni Firebase e Google per convalidare i dati di accesso
    e di registrazione.

    \item[Interfacce richieste:]
    \begin{itemize}
        \item[]
        \item \underline{Credenziali di accesso:}
        \item \underline{Credenziali di registrazione:}
        \item \underline{Richiesta Google:}
        \item \underline{Esito corrispondenza:}
        \item \underline{Autorizzazione:}
        \item \underline{Esito registrazione:}
    \end{itemize}

    \item[Interfacce fornite:]
\end{description}


\newpage
\subsubsection{Home Page}
\begin{description}
    \item[Descrizione:] il componente si occupa di guidare l'utente nella
    navigazione, esponendo dunque sul front-end le funzionalità relative
    alla visualizzazione del catalogo e al reindirizzamento ad altre pagine
    (visualizzatore del problema e area di esercitazione, login). Se l'utente
    è autenticato, questo componente ha il compito di mostrare i progressi e
    i preferiti dell'utente.
    \item[Interfacce fornite:]
    \begin{itemize}
        \item[]
        \item \underline{Richiesta pagina problemi:}
    \end{itemize}
\end{description}

\subsubsection{Utente autenticato}
\subsubsection{Utente amministratore}
\subsubsection{Pagina di autenticazione}
\subsubsection{Catalogo dei problemi}
\subsubsection{Pagina problema}

\subsubsection{Sistema di autenticazione}
\subsubsection{Gestore account}


\newpage
\subsection{Definizione dei componenti}
In questa sezione sono descritti i vari componenti e interfaccie presenti all'interno del diagramma riportato nella prossima sezione.
\subsubsection{Utente non autenticato}
L'utente non autenticato è un qualsiasi utente collegato al sito che non si sia ancora autenticato tramite il sistema di login/registrazione descritto nel \textbf{RF 2}.\\
L'utente non autenticato ha disponibile a sè tutte le funzioni del sito tranne alcune funzioni che verranno descritte in componenti futuri.\\
\\
\textbf{Interfaccie fornite}\\
\underline{Indirizzamento al sito}: Un qualsiasi utente che prova a connettersi al sito dovrà essere reindirizzato alla Home Page.
\subsubsection{Home Page}
Il componente si occupa di rendere accessibile la navigazione del sito, avrà dei bottoni apposta per il login (il componente di login è raffigurato nel 2 diagramma), e la visualizzazione del catalogo dei problemi.
\\\\\textbf{Interfaccie fornite}\\
\underline{Richiesta Pagina Problemi}: Un qualsiasi utente connesso al sito deve poter accedere al catalogo dei problemi, indipendetemente se autenticato o no.
\subsubsection{Catalogo Dei Problemi}
Il seguente componente deve permettere a un qualsiasi utente, autenticato o no, di accedere alla pagina di un specifico problema, attivare un timer per la sessione di allenamento,
accedere ai video con le soluzioni dei problemi, e filtrare i problemi in base alla categoria.
\\\\\textbf{Interfaccie richieste}\\
\underline{Video Soluzioni}: I video delle soluzioni vengono hostati su un altra piattaforma (Youtube),quindi dobbiamo richiedere il permesso di visualizzare i video attraverso l'API di Youtube.
\\\\
\underline{Filtro Problemi}: L'utente a sua discrezione può decidere se applicare dei filtri per avere una lista di problemi basata su dei tag predefiniti, di default nessun filtro è applicato.
\\\\
\textbf{Interfaccie Fornite}
\\
\underline{Richiesta Home Page}: L'utente deve essere in grado di tornare alla Home Page.
\\\\
\underline{Timer attivo/non attivo}: L'utente deve essere in grado, a suo piacimento, di attivare o disattivere il timer di allenamento.
\\\\
\underline{Richiesta di un problema specifico}: L'utente deve essere in grado di poter accedere a qualsiasi problema presente sul catalogo

\subsubsection{Utente Amministratore}
L'utente amministratore ha gli stessi privilegi forniti all'utente autenticato e non, l'unico privilegio che possiede in più è il permesso di modificare il catalogo,
per modifica si intende sia aggiungere che rimuovere un qualsiasi problema.
\\\\\textbf{Interfaccie Fornite}\\
\underline{Modifica Catalogo}: Un utente amministratore deve essere in grado di poter modificare il catalogo a suo piacimento.

\subsubsection{Pagina Problema Specifico}
Dopo aver specificato a quale problema si vuole accedere, l'utente verra indirizzato ad una pagina dove poter visualizzare il testo del problema,inserire codice e sottometterlo,e se
si è autenticati aggiungerlo ai problemi preferiti,inoltre se l'utente autentico riesce a risolvere il problema, lo stato del problema dovrà essere riflesso nel catalogo.
\\\\\textbf{Interfaccie Fornite}\\
\underline{Sottomisione Codice}: Attraverso un bottone apposito l'utente autenticato o non, dovrà poter sottomettere il codice per la valutazione.
\\
\underline{Aggiornamento Stato Problema}: Se l'utente è in grado di risolvere il problema, allora lo "stato" del problema dovrà essere aggiornato, in modo che un utente autenticato sia in grado di riconoscere i problemi già svolti.
\\
\underline{Richiesta Home Page}: Un qualsiasi utente, autenticato o non, deve essere in grado di tornare al catalogo dei problemi.
\\\\\textbf{Interfaccie Richieste}
\\\underline{Codice}: Un qualsiasi utente deve essere in grado di poter scrivere (nelle aree opportune) testo,che poi verrà interpretato come codice nel linguaggio di programmazione specificato.
\subsubsection{Utente Autenticato}
L'utente autenticato possiede tutti i privilegi di un utente non autenticato, l'unico privilegio in più rispetto ad un utente non autenticato è il tracciamento dei preferiti e dei problemi svolti.
\\\\\textbf{Interfaccie Fornite}
\\
\underline{Aggiungere ai Preferiti}: Un utente autenticato deve essere in grado di aggiungere tra i preferiti un qualsiasi Problema.

\subsubsection{Pagina Autenticazione}:
La pagina di autenticazione è accessibile all'utente in qualsiasi momento,indipendetemente dalla pagina in cui si trova, dentro questa pagina
l'utente avrà a disposizione dei campi dove immettere email e password, un link per il recupero password, e dei bottoni dove poter decidere se eseguire login o registrazione.
\\\\\textbf{Interfaccie Richieste}
\\underline{Credenziali}: L'utente deve poter immetere le proprie credenziali (tupla di password e email).
\\\\\textbf{Interfaccie Fornite}
\underline{Login}: L'utente deve essere in grado di poter effetuare il login attraverso apposito bottone.
\\
\underbar{Registrazione}: L'utente deve essere in grado di effettuare la registrazione tramite apposito bottone.
\\
\underbar{Richiesta Recupero password}: L'utente deve essere in grado di poter iniziare la procedura di recupero password.
\subsubsection{Autenticazione}
Tramite questo componente siamo in grado di autenticare l'utente, indipendetemente se si è registrato tramite Google oppure tramite il nostro sistema di registrazione.
\\\\textbf{Interfaccie Richieste}
\underbar{Richiesta Autenticazione Google}: Se l'utente decide di effettuare il login/registrazione tramite Google, deve essere in grado di farlo, perciò comunicheremo tramite apposite API Google.
\\
\underbar{Risposta Autenticazione Google}: Risposta fornite da Google.
\\
\underbar{Richiesta Autenticazione}: Se l'utente decide di effetuare login/registrazione tramite il sistema implementato da noi, deve poter farlo tramite vie apposite.
\\
\underbar{Risposta Autenticazione}: Risposta dell'autenticazione
\\\\\textbf{Interfaccie Fornite}\\
\underline{Credenziali Account}: Email e password Forniti dall'utente durante login/registrazione
\subsubsection{Gestore Account}
Tramite questo componenti raggrupiamo tutti gli utenti autenticati, e di conseguenza forniamo le azioni disponibili solo ad utenti autenticati.
\\\\\textbf{Interfaccie Fornite}
\\\underline{Esito}: Forniamo l'esito dell'accesso.
\\\underline{Richiesta Modifica Password}: tramite bottone apposito l'utente deve essere in grado di poter iniziare il processo di modifica password.
\\\underline{Richiesta Modifica Email}: tramite bottone apposito l'utente deve essere in grado di iniziare la procedure di modifica email.
\\\underbar{Logout}: l'utente deve essere in grado di effetuare il logout.

\subsubsection{Modifica Password}
Tramite questo componente l'utente deve essere in grado di modificare la propria password fornendo le nuove credenziali.
\\\\\textbf{Interfaccie Fornite}\\
\underline{Nuove Credenziali}: L'utente deve essere in grado di modificare le proprie credenziali, perciò dovremmo notificare il database delle nuove credenziali
\\\\\textbf{Interfaccie Richieste}\\
\underline{Esito}: Notifichiamo l'utente se l'esito è stato positivo\\\\
\underline{Nuova Password}: l'utente deve dare una nuova password che sia conforme alle regola stabilite.

\subsubsection{Modifica Email}
Tramite questo componente l'utente deve essere in grado di modificare la propria email fornendo le nuove credenziali.
\\\\\textbf{Interfaccie Fornite}\\
\underline{Nuove Credenziali}: L'utente deve essere in grado di modificare le proprie credenziali, perciò dovremmo notificare il database delle nuove credenziali
\\\\\textbf{Interfaccie Richieste}\\
\underline{Esito}: Notifichiamo l'utente se l'esito è stato positivo
\\\\
\underline{Nuova Email}: l'utente deve dare una nuova email che sia conforme alle regola stabilite.

\subsubsection{Pagina Recupero Password}
Tramite questo componente l'utente sarà in grado di recuperare il proprio account a patto che l'email inserita sia valida.
\\\\\textbf{Interfaccie Fornite}\\
\underline{Invio Email Recupero Password}: una email di recupero password verrà inviata all'utente all'email specificata
\\\\\textbf{Interfaccie Richieste}\\
\underbar{Email}: L'utente deve fornire un indirizzo email.
\subsection{Diagrammi dei componenti}
\begin{center}
    \hspace*{-1cm}
    \includegraphics[width=1.2\textwidth]{materiale/site-ux.jpg}
\end{center}
  
\begin{center}
    \hspace*{-1cm}
    \includegraphics[width=1.2\textwidth]{materiale/login-component.jpg}
\end{center}
    

    


\end{document}